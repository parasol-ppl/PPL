<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<title>PMPL: RobotCommandQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="10" cellpadding="10">
      <tr style="height: 56px; text-align: center;">
        <th>PMPL API Reference</th>
        <td>
          <table cellspacing="10" cellpadding="10">
            <tr>
              <td><a class="qindex" href="index.html">Overview</a></td>
              <td><a class="qindex" href="group__Core.html">Core</a></td>
              <td><a class="qindex" href="group__AlgorithmAbstractions.html">Algorithm Abstractions</a></td>
              <td><a class="qindex" href="group__Utilities.html">Utilities</a></td>
              <td><a class="qindex" href="group__ParallelMethods.html">Parallel Methods</a></td>
            </tr>
            <tr>
              <td><a class="qindex" href="modules.html">Modules</a></td>
              <td><a class="qindex" href="inherits.html">Class Hierarchy</a></td>
              <td><a class="qindex" href="annotated.html">Classes</a></td>
              <td><a class="qindex" href="functions.html">Functions</a></td>
            </tr>
            <tr>
              <td><a class="el" href="todo.html" target="_self">Todo List</a></td>
              <td><a class="el" href="bug.html" target="_self">Bug List</a></td>
              <td><a class="qindex" href="group__DeadCode.html">Dead Code</a></td>
            </tr>
          </table>
        </td>
        <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
      </tr>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classRobotCommandQueue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RobotCommandQueue Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction</div></td></tr>
<tr class="memitem:a9c2e5344c40ba1eb4b438a4df6d4a7cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#a9c2e5344c40ba1eb4b438a4df6d4a7cd">RobotCommandQueue</a> (<a class="el" href="classXMLNode.html">XMLNode</a> &amp;_node)</td></tr>
<tr class="separator:a9c2e5344c40ba1eb4b438a4df6d4a7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa82ede7a578d3c7b2e65c6402a53b8b"><td class="memItemLeft" align="right" valign="top"><a id="aaa82ede7a578d3c7b2e65c6402a53b8b" name="aaa82ede7a578d3c7b2e65c6402a53b8b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~RobotCommandQueue</b> ()</td></tr>
<tr class="separator:aaa82ede7a578d3c7b2e65c6402a53b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Hardware Properties</div></td></tr>
<tr class="memitem:ae721159bf5480b30fb69ddbd9308b224"><td class="memItemLeft" align="right" valign="top"><a id="ae721159bf5480b30fb69ddbd9308b224" name="ae721159bf5480b30fb69ddbd9308b224"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GetCommunicationTime</b> () const</td></tr>
<tr class="memdesc:ae721159bf5480b30fb69ddbd9308b224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the longest communication time for any piece of hardware. <br /></td></tr>
<tr class="separator:ae721159bf5480b30fb69ddbd9308b224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de3d1bb844de7cf0278d001e2c5bf18"><td class="memItemLeft" align="right" valign="top"><a id="a8de3d1bb844de7cf0278d001e2c5bf18" name="a8de3d1bb844de7cf0278d001e2c5bf18"></a>
<a class="el" href="classActuatorInterface.html">ActuatorInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetActuator</b> () const noexcept</td></tr>
<tr class="memdesc:a8de3d1bb844de7cf0278d001e2c5bf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the robot's base/actuator. <br /></td></tr>
<tr class="separator:a8de3d1bb844de7cf0278d001e2c5bf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf561a46709a47caccb24310e671ddd2"><td class="memItemLeft" align="right" valign="top"><a id="adf561a46709a47caccb24310e671ddd2" name="adf561a46709a47caccb24310e671ddd2"></a>
<a class="el" href="classSensorInterface.html">SensorInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetSensor</b> () const noexcept</td></tr>
<tr class="memdesc:adf561a46709a47caccb24310e671ddd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the robot's sensor. <br /></td></tr>
<tr class="separator:adf561a46709a47caccb24310e671ddd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Command Queue Manipulation</div></td></tr>
<tr class="memitem:abc3899c2e744e21eeb9fae481145882e"><td class="memItemLeft" align="right" valign="top"><a id="abc3899c2e744e21eeb9fae481145882e" name="abc3899c2e744e21eeb9fae481145882e"></a>
std::shared_ptr&lt; <a class="el" href="classCommand.html">Command</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetCurrentCommand</b> () const</td></tr>
<tr class="memdesc:abc3899c2e744e21eeb9fae481145882e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current command that the robot is executing. <br /></td></tr>
<tr class="separator:abc3899c2e744e21eeb9fae481145882e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d19dca9f9400aa60e45389b1517fd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#a57d19dca9f9400aa60e45389b1517fd7">EnqueueCommand</a> (<a class="el" href="classCommand.html">Command</a> &amp;&amp;_command)</td></tr>
<tr class="separator:a57d19dca9f9400aa60e45389b1517fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e05ba6be52a8652d88de335f49037"><td class="memItemLeft" align="right" valign="top"><a id="ad60e05ba6be52a8652d88de335f49037" name="ad60e05ba6be52a8652d88de335f49037"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ClearCommandQueue</b> ()</td></tr>
<tr class="memdesc:ad60e05ba6be52a8652d88de335f49037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear out the command queue. <br /></td></tr>
<tr class="separator:ad60e05ba6be52a8652d88de335f49037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa248b2f951266f2265737be29a7a5cd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#aa248b2f951266f2265737be29a7a5cd0">IsIdle</a> () const</td></tr>
<tr class="separator:aa248b2f951266f2265737be29a7a5cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0c29b63e24f006c14c590eba4d0793"><td class="memItemLeft" align="right" valign="top"><a id="afc0c29b63e24f006c14c590eba4d0793" name="afc0c29b63e24f006c14c590eba4d0793"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsLocalizing</b> () const</td></tr>
<tr class="memdesc:afc0c29b63e24f006c14c590eba4d0793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the robot has a localizing command currently on the queue. <br /></td></tr>
<tr class="separator:afc0c29b63e24f006c14c590eba4d0793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Robot Control</div></td></tr>
<tr class="memitem:ac69bbd21c19fcf4d797cd5efa8c6309f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#ac69bbd21c19fcf4d797cd5efa8c6309f">FullStop</a> ()</td></tr>
<tr class="separator:ac69bbd21c19fcf4d797cd5efa8c6309f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Helpers</div></td></tr>
<tr class="memitem:aad32223210c08692bac6fe0f964bb554"><td class="memItemLeft" align="right" valign="top"><a id="aad32223210c08692bac6fe0f964bb554" name="aad32223210c08692bac6fe0f964bb554"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>StartQueue</b> ()</td></tr>
<tr class="memdesc:aad32223210c08692bac6fe0f964bb554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the command queue and start it in a separate thread. <br /></td></tr>
<tr class="separator:aad32223210c08692bac6fe0f964bb554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf309bf8a549fdfc48b02bef4a3d5680"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#aaf309bf8a549fdfc48b02bef4a3d5680">StopQueue</a> ()</td></tr>
<tr class="separator:aaf309bf8a549fdfc48b02bef4a3d5680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac24026721e50cbe5e2f3bf96378e3b8"><td class="memItemLeft" align="right" valign="top"><a id="aac24026721e50cbe5e2f3bf96378e3b8" name="aac24026721e50cbe5e2f3bf96378e3b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>QueueFunction</b> ()</td></tr>
<tr class="memdesc:aac24026721e50cbe5e2f3bf96378e3b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The queue function to run in a separate thread. <br /></td></tr>
<tr class="separator:aac24026721e50cbe5e2f3bf96378e3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849e91b4817a0882db5d0e851aaf6105"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotCommandQueue.html#a849e91b4817a0882db5d0e851aaf6105">SendToRobot</a> (const <a class="el" href="classCommand.html">Command</a> &amp;_command)</td></tr>
<tr class="separator:a849e91b4817a0882db5d0e851aaf6105"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A command queue for controlling a hardware robot through one or more hardware interfaces.</p>
<p >We expect all hardware robots to be able to set their actuators according to each possible control in the software robot's dynamics model. If this is not the case, then the actuator settings need to be adjusted to reflect the physical robot's capabilities.</p>
<p >This object supports a queue of 'commands', where a command is (currently) a set of controls executed for some length of time. The primary means of controlling the hardware robot is thus manipulation of the command queue, which allows us to set and execute commands asynchronously.</p>
<p >Currently this object supports up to one robot base and one sensor.</p>
<dl class="section note"><dt>Note</dt><dd>For now we are assuming the entire queue will use the longest communication time for each component. We may wish to refine this to check/use the specific times for individual components. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9c2e5344c40ba1eb4b438a4df6d4a7cd" name="a9c2e5344c40ba1eb4b438a4df6d4a7cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2e5344c40ba1eb4b438a4df6d4a7cd">&#9670;&nbsp;</a></span>RobotCommandQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RobotCommandQueue::RobotCommandQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXMLNode.html">XMLNode</a> &amp;&#160;</td>
          <td class="paramname"><em>_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Create a robot command queue from an XML specification of the hardware settings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_node</td><td>The XML node. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a57d19dca9f9400aa60e45389b1517fd7" name="a57d19dca9f9400aa60e45389b1517fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d19dca9f9400aa60e45389b1517fd7">&#9670;&nbsp;</a></span>EnqueueCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RobotCommandQueue::EnqueueCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommand.html">Command</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>_command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add a command to the end of the robot's command queue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_command</td><td>The command to execute. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa248b2f951266f2265737be29a7a5cd0" name="aa248b2f951266f2265737be29a7a5cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa248b2f951266f2265737be29a7a5cd0">&#9670;&nbsp;</a></span>IsIdle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RobotCommandQueue::IsIdle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check if the robot is currently idle and has no queued commands. This will return false if you have ordered the robot to wait. </p>

</div>
</div>
<a id="ac69bbd21c19fcf4d797cd5efa8c6309f" name="ac69bbd21c19fcf4d797cd5efa8c6309f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac69bbd21c19fcf4d797cd5efa8c6309f">&#9670;&nbsp;</a></span>FullStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RobotCommandQueue::FullStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Halt the hardware robot immediately. This should NOT touch the command queue in order to avoid deadlock conditions (do that separately). </p><dl class="section return"><dt>Returns</dt><dd>True if the hardware acknowledged the command. THIS DOES NOT GUARANTEE THAT IT WORKED! </dd></dl>

</div>
</div>
<a id="aaf309bf8a549fdfc48b02bef4a3d5680" name="aaf309bf8a549fdfc48b02bef4a3d5680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf309bf8a549fdfc48b02bef4a3d5680">&#9670;&nbsp;</a></span>StopQueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RobotCommandQueue::StopQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Stop the command queue and release its resources. Commands already in the queue will be cleared. </p>

</div>
</div>
<a id="a849e91b4817a0882db5d0e851aaf6105" name="a849e91b4817a0882db5d0e851aaf6105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849e91b4817a0882db5d0e851aaf6105">&#9670;&nbsp;</a></span>SendToRobot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RobotCommandQueue::SendToRobot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCommand.html">Command</a> &amp;&#160;</td>
          <td class="paramname"><em>_command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Send a command to the robot. Must check for and recognize empty controls as 'wait' commands. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_command</td><td><a class="el" href="classCommand.html">Command</a> to send to robot </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>RobotCommandQueue.h</li>
<li>RobotCommandQueue.cpp</li>
<li>RobotCommandQueue_pmpl.cpp</li>
<li>RobotCommandQueue_sim.cpp</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
<small align="left">PMPL is a project of Texas A&amp;M University</small>
<small align="right">
Generated on Mon Jan 31 2022 14:17:41 for PMPL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.3
</small></address>
</body>
</html>
